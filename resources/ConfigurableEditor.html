<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <style>/*{stylesheet}*/</style>
</head>

<body>
  <div id="container" class="table">
    
  </div>

  <script>
    const vscode = acquireVsCodeApi();

    let rootPath;

    vscode.postMessage({
        command: 'init'
      });

    // Handle the message inside the webview
    window.addEventListener('message', event => {
      switch (event.data.command) {
        case 'init':
          config = event.data.config;
          generateHtmlFromJson(config, document.getElementById('container'), '');
          if (doc) {
            update();
          }
          break;
        case 'update':
          doc = event.data.document;
          rootPath = event.data.rootPath;

          if (config) {
            update();
          }
      }
    });

    // send message to extension
    function sendMessage() {
      vscode.postMessage({
        command: 'update',
        json: doc
      });
    }
  </script>

  <script>/*{configurable_script}*/</script>
</body>

</html>